import{f as te,s as me,j as V,c as r,o as i,a as e,k as S,x as Y,b as v,d as m,L as j,t as f,y as W,r as _,z as De,m as O,A as fe,F as Q,n as Z,l as U,B as ge,i as Me,C as pe,g as xe,R as q,v as K,h as Re,D as be,p as re,T as Ae,E as ve,_ as Pe}from"#entry";import{P as Be}from"./Ce1utWGs.js";const Ne={class:"flex items-center gap-2"},Ee={key:0,class:"text-xs text-base-content/60"},je=te({__name:"RewardBadge",props:{classInfo:{},showDetails:{type:Boolean,default:!1}},setup(H){const p=H,b=me(),x=V(()=>p.classInfo.rewardSettingsMode==="template"&&p.classInfo.appliedRewardTemplateId&&b.getTemplateById(p.classInfo.appliedRewardTemplateId)?.settings||null),D=V(()=>p.classInfo.rewardSettingsMode==="disabled"?"å·²åœç”¨":p.classInfo.rewardSettingsMode==="template"&&p.classInfo.appliedRewardTemplateId?b.getTemplateById(p.classInfo.appliedRewardTemplateId)?.name||"ç¯„æœ¬":"æœªè¨­å®š"),h=V(()=>p.classInfo.rewardSettingsMode==="disabled"?"Ban":p.classInfo.rewardSettingsMode==="template"?"BookTemplate":"AlertCircle"),g=V(()=>{const l="badge badge-sm gap-1";return p.classInfo.rewardSettingsMode==="disabled"?`${l} badge-error badge-outline`:p.classInfo.rewardSettingsMode==="template"?`${l} badge-success`:`${l} badge-warning badge-outline`});return(l,I)=>{const T=j;return i(),r("div",Ne,[e("span",{class:Y(g.value)},[v(T,{name:h.value,class:"w-3 h-3"},null,8,["name"]),m(" "+f(D.value),1)],2),l.showDetails&&x.value?(i(),r("span",Ee," â­"+f(x.value.starsToInvincible)+"æ˜Ÿâ†’ç„¡æ•µ | ğŸ’°"+f(x.value.pointsPerStar)+"åˆ†=1æ˜Ÿ ",1)):S("",!0)])}}}),Ve=Object.assign(je,{__name:"RewardBadge"}),Le={class:"space-y-6"},Ue={key:0,class:"alert alert-warning"},Oe={class:"form-control"},ze={class:"flex flex-col gap-3"},Fe={class:"flex items-start gap-3 flex-1"},Ge=["checked"],Xe={class:"flex items-start gap-3 flex-1"},He=["checked"],Je={class:"flex-1"},We={key:0,class:"mt-3"},Ye=["value"],qe={key:0},Ke={key:0,class:"mt-3 p-3 bg-base-200/50 rounded-lg text-xs space-y-1 text-base-content text-black"},Qe={class:"grid grid-cols-2 gap-2"},Ze={class:"font-semibold"},es={class:"font-semibold"},ss={class:"font-semibold"},ts={class:"font-semibold"},ls={class:"flex gap-3 justify-between pt-4 border-t"},ns={class:"flex gap-3"},as=["disabled"],os=te({__name:"RewardSettingsForm",props:{classInfo:{},templates:{}},emits:["save","cancel"],setup(H,{emit:p}){const b=H,x=p;W(()=>b.classInfo.groupingActive,w=>{console.log(`ğŸ¯ RewardSettingsForm: classInfo.groupingActive = ${w}, classId = ${b.classInfo.id}`)},{immediate:!0});const D=me(),h=_(b.classInfo.rewardSettingsMode==="custom"?"disabled":b.classInfo.rewardSettingsMode||"disabled"),g=_(b.classInfo.appliedRewardTemplateId||""),l=V(()=>g.value?D.getTemplateById(g.value):null),I=V(()=>h.value==="disabled"?!0:h.value==="template"?!!g.value:!1),T=()=>{I.value&&(h.value==="disabled"?x("save",{classId:b.classInfo.id,mode:"disabled"}):h.value==="template"&&x("save",{classId:b.classInfo.id,mode:"template",templateId:g.value}))};return W(h,w=>{if(w==="template"&&!g.value){const o=b.templates.find(M=>M.isDefault);o?g.value=o.id:b.templates.length>0&&(g.value=b.templates[0].id)}}),(w,o)=>{const M=j;return i(),r("div",Le,[w.classInfo.groupingActive?(i(),r("div",Ue,[v(M,{name:"AlertCircle",class:"w-5 h-5"}),o[4]||(o[4]=De('<div class="text-sm space-y-2"><div class="font-semibold">âš ï¸ åˆ†çµ„æ´»å‹•é€²è¡Œä¸­</div><div class="text-xs"> æ–°è¨­å®šå°‡å¥—ç”¨åˆ°ã€Œæ–°å¢çš„åˆ†æ•¸ã€ä¸Šã€‚å·²ç¶“æ”¶é›†åˆ°çš„æ˜Ÿæ˜Ÿæ•¸<span class="font-semibold"> ä¸æœƒé‡æ–°è¨ˆç®— </span> ã€‚ </div><div class="text-xs mt-2"> ä¾‹å¦‚ï¼šè‹¥å¾ã€Œ20åˆ†/æ˜Ÿã€æ”¹ç‚ºã€Œ3åˆ†/æ˜Ÿã€ï¼Œä¹‹å‰çš„æ˜Ÿæ˜Ÿä¿ç•™ä¸è®Šï¼Œåªæœ‰æ–°åŠ çš„åˆ†æ•¸æŒ‰æ–°è¦å‰‡è¨ˆç®—ã€‚ </div></div>',1))])):S("",!0),e("div",Oe,[o[14]||(o[14]=e("label",{class:"label"},[e("span",{class:"label-text font-semibold"},"çå‹µæ¨¡å¼")],-1)),e("div",ze,[e("label",{class:Y(["cursor-pointer label border rounded-lg p-4 hover:bg-base-200/50 transition-colors",{"border-error bg-error/5":h.value==="disabled"}])},[e("div",Fe,[e("input",{type:"radio",class:"radio radio-error",checked:h.value==="disabled",onChange:o[0]||(o[0]=C=>h.value="disabled")},null,40,Ge),o[5]||(o[5]=e("div",{class:"flex-1"},[e("span",{class:"label-text font-semibold"},"åœç”¨çå‹µæ©Ÿåˆ¶"),e("p",{class:"text-xs text-base-content/60 mt-1"},"ä¸ä½¿ç”¨ä»»ä½•çå‹µæ©Ÿåˆ¶")],-1))])],2),e("label",{class:Y(["cursor-pointer label border rounded-lg p-4 hover:bg-base-200/50 transition-colors",{"border-success bg-success/5":h.value==="template"}])},[e("div",Xe,[e("input",{type:"radio",class:"radio radio-success",checked:h.value==="template",onChange:o[1]||(o[1]=C=>h.value="template")},null,40,He),e("div",Je,[o[12]||(o[12]=e("span",{class:"label-text font-semibold"},"ä½¿ç”¨ç¯„æœ¬",-1)),o[13]||(o[13]=e("p",{class:"text-xs text-base-content/60 mt-1"},"å¾é è¨­ç¯„æœ¬ä¸­é¸æ“‡",-1)),h.value==="template"?(i(),r("div",We,[O(e("select",{"onUpdate:modelValue":o[2]||(o[2]=C=>g.value=C),class:"select select-bordered select-sm w-full"},[o[6]||(o[6]=e("option",{value:""},"-- è«‹é¸æ“‡ç¯„æœ¬ --",-1)),(i(!0),r(Q,null,Z(w.templates,C=>(i(),r("option",{key:C.id,value:C.id},[m(f(C.name)+" ",1),C.isDefault?(i(),r("span",qe," (é è¨­)")):S("",!0)],8,Ye))),128))],512),[[fe,g.value]]),l.value?(i(),r("div",Ke,[o[11]||(o[11]=e("div",{class:"font-semibold mb-2"},"ç¯„æœ¬è¨­å®šé è¦½ï¼š",-1)),e("div",Qe,[e("div",null,[o[7]||(o[7]=m(" ğŸ’° æ¯æ˜Ÿéœ€æ±‚ï¼š",-1)),e("span",Ze,f(l.value.settings.pointsPerStar)+" åˆ†",1)]),e("div",null,[o[8]||(o[8]=m(" â­ é”æˆç„¡æ•µï¼š",-1)),e("span",es,f(l.value.settings.starsToInvincible)+" æ˜Ÿ",1)]),e("div",null,[o[9]||(o[9]=m(" â±ï¸ ç„¡æ•µæ™‚é•·ï¼š",-1)),e("span",ss,f(U(ge)(l.value.settings.invincibleDurationSeconds)),1)]),e("div",null,[o[10]||(o[10]=m(" ğŸ¯ ç„¡æ•µåŠ åˆ†ï¼š",-1)),e("span",ts,f(l.value.settings.invinciblePointsPerClick)+" åˆ†/æ¬¡",1)])])])):S("",!0)])):S("",!0)])])],2)])]),e("div",ls,[o[16]||(o[16]=e("div",null,null,-1)),e("div",ns,[e("button",{onClick:o[3]||(o[3]=C=>w.$emit("cancel")),class:"btn btn-ghost"},"å–æ¶ˆ"),e("button",{onClick:T,class:"btn btn-primary gap-2",disabled:!I.value},[v(M,{name:"Save",class:"w-4 h-4"}),o[15]||(o[15]=m(" å„²å­˜è¨­å®š ",-1))],8,as)])])])}}}),is=Object.assign(os,{__name:"RewardSettingsForm"}),rs={class:"modal-box w-full max-w-md"},ds={class:"modal-title text-lg font-bold mb-6"},cs={key:0,class:"alert alert-warning gap-3 mb-6"},us={class:"flex-1"},ps={class:"text-sm font-semibold leading-tight"},ms={class:"text-xs text-warning/80 mt-1 leading-relaxed"},bs={class:"list-disc list-inside ml-1"},vs={class:"space-y-6"},fs={class:"form-control"},gs={class:"bg-base-200/30 px-4 py-4 rounded-lg space-y-4"},xs={class:"font-semibold text-sm text-base-content/80 -mx-4 px-4"},hs={class:"form-control -mx-4 px-4"},_s={class:"form-control -mx-4 px-4"},ws={class:"form-control -mx-4 px-4"},ys={class:"flex gap-2 items-center"},ks={class:"flex-1"},$s={class:"flex-1"},Ts={class:"form-control -mx-4 px-4"},Cs={class:"border border-base-200 rounded-lg bg-base-100 px-4 py-4 space-y-4"},Ss={class:"flex items-center justify-between gap-3 -mx-4 px-4"},Is=["disabled"],Ds={key:0,class:"alert alert-warning -mx-4 px-4"},Ms={class:"text-xs"},Rs={class:"flex flex-col gap-3 -mx-4 px-4"},As={class:"grid gap-4 items-center md:grid-cols-[auto,1fr,auto] sm:grid-cols-[auto,1fr] grid-cols-1"},Ps={class:"flex flex-col gap-1"},Bs={class:"flex items-center gap-2"},Ns=["value","max","onInput"],Es={class:"flex flex-col gap-1"},js={class:"flex items-center gap-2"},Vs=["value","maxlength","onInput"],Ls={class:"text-[10px] text-base-content/50"},Us={class:"flex items-center justify-end self-stretch"},Os=["onClick"],zs={class:"border border-base-200 rounded-lg bg-base-200/40 p-3 space-y-2"},Fs={class:"flex items-center justify-between gap-3"},Gs={class:"flex items-center gap-2 font-semibold"},Xs=["checked"],Hs={key:0,class:"text-xs text-warning/90 leading-relaxed"},Js={key:1,class:"text-xs text-base-content/70 leading-relaxed"},Ws={class:"modal-action mt-8"},Ys=te({__name:"RewardTemplateModal",props:{initialTemplate:{default:null},isCreatingNew:{type:Boolean,default:!1}},emits:["save","cancel"],setup(H,{expose:p,emit:b}){const x=H,D=b,h=_(null),g=_(x.isCreatingNew),l=Me({id:"",name:"æ–°çš„çå‹µç¯„æœ¬",settings:{enabled:!0,pointsPerStar:10,starsToInvincible:3,invincibleDurationSeconds:600,invinciblePointsPerClick:2,milestoneMessages:pe(3)},isDefault:!1}),I=_(!1),T=xe(),w=V(()=>{if(g.value||!l.id)return[];const a=[];return T.classes.forEach(t=>{t.rewardSettingsMode==="template"&&t.appliedRewardTemplateId===l.id&&t.groupingActive&&a.push({id:t.id,name:t.name})}),console.log(`ğŸ¯ RewardTemplateModal: templateId=${l.id}, isCreatingNew=${g.value}, matchingClasses=${a.length}`),a}),o=V(()=>w.value.length>0),M=_(10),C=_(0),z=a=>{const t=Math.max(1,Math.floor(a.starsToInvincible||1)),y=(Array.isArray(a.milestoneMessages)?a.milestoneMessages:[]).map(R=>{const J=Math.min(t,Math.max(1,Math.floor(Number(R?.threshold)||0))),ue=typeof R?.message=="string"?R.message.trim().slice(0,q):"";return{threshold:J,message:ue}}).sort((R,J)=>R.threshold-J.threshold),$=[],L=new Map;return y.forEach(R=>{if(L.has(R.threshold)){const J=L.get(R.threshold);$[J]=R}else L.set(R.threshold,$.length),$.push(R)}),a.milestoneMessages=$,a},k=V({get:()=>z(l.settings).milestoneMessages??[],set:a=>{l.settings.milestoneMessages=a}}),B=V(()=>{const a=Math.max(1,l.settings.starsToInvincible||1),t=k.value;for(const d of t){if(!d.message?.trim())return"é‡Œç¨‹ç¢‘è¨Šæ¯å…§å®¹ä¸èƒ½ç‚ºç©º";if(d.message.length>q)return`é‡Œç¨‹ç¢‘è¨Šæ¯æœ€å¤š ${q} å€‹å­—`;if(d.threshold<1||d.threshold>a)return`é‡Œç¨‹ç¢‘é–€æª»å¿…é ˆä»‹æ–¼ 1 åˆ° ${a}`}return null}),ee=()=>{const a=Math.max(1,l.settings.starsToInvincible||1),t=k.value,d=new Set(t.map($=>$.threshold));let y=1;for(;y<=a&&d.has(y);)y++;y>a||(k.value=[...t,{threshold:y,message:"æ–°çš„é‡Œç¨‹ç¢‘è¨Šæ¯"}].sort(($,L)=>$.threshold-L.threshold))},F=a=>{const t=[...k.value];t.splice(a,1),k.value=t},G=(a,t)=>{const d=Math.max(1,l.settings.starsToInvincible||1),y=Math.min(d,Math.max(1,Math.floor(Number(t)||0))),$=[...k.value];$[a]={...$[a],threshold:y},k.value=$.sort((L,R)=>L.threshold-R.threshold)},de=(a,t)=>{const d=(t||"").slice(0,q),y=[...k.value];y[a]={...y[a],message:d},k.value=y};W(()=>x.initialTemplate,a=>{if(a){const t=JSON.parse(JSON.stringify(a));l.id=t.id,l.name=t.name,l.settings=z(t.settings),l.isDefault=t.isDefault,I.value=!!t.isDefault}else l.id="",l.name="æ–°çš„çå‹µç¯„æœ¬",l.settings=z({enabled:!0,pointsPerStar:10,starsToInvincible:3,invincibleDurationSeconds:600,invinciblePointsPerClick:2,milestoneMessages:pe(3)}),l.isDefault=!1,I.value=!1},{deep:!0}),W(()=>x.isCreatingNew,a=>{g.value=a}),W(()=>l.settings.invincibleDurationSeconds,a=>{typeof a=="number"&&(M.value=Math.floor(a/60),C.value=a%60)},{immediate:!0}),W([M,C],([a,t])=>{if(typeof a=="number"&&typeof t=="number"){const d=Math.min(Math.max(t,0),59);d!==t&&(C.value=d);const y=a*60+d;y>0&&(l.settings.invincibleDurationSeconds=y)}}),W(()=>l.settings.starsToInvincible,()=>{k.value=z(l.settings).milestoneMessages??[]});const le=()=>{h.value&&h.value.showModal()},se=()=>{h.value&&h.value.close()},ce=()=>{if(B.value){alert(B.value);return}z(l.settings),l.isDefault=I.value,D("save",l,g.value),se()},ne=()=>{D("cancel"),se()},ae=a=>{const t=a.target;I.value=t.checked};return p({open:le,close:se}),(a,t)=>(i(),r("dialog",{ref_key:"dialogRef",ref:h,class:"modal modal-bottom sm:modal-middle"},[e("div",rs,[e("h2",ds,f(g.value?"å»ºç«‹æ–°ç¯„æœ¬":"ç·¨è¼¯ç¯„æœ¬"),1),o.value?(i(),r("div",cs,[v(j,{name:"AlertTriangle",class:"w-5 h-5 flex-shrink-0"}),e("div",us,[e("div",ps," âš ï¸ æ­¤ç¯„æœ¬æ­£è¢« "+f(w.value.length)+" å€‹ç­ç´šä½¿ç”¨ä¸­ ",1),e("div",ms,[t[6]||(t[6]=e("div",null,"å—å½±éŸ¿ç­ç´šï¼š",-1)),e("ul",bs,[(i(!0),r(Q,null,Z(w.value,d=>(i(),r("li",{key:d.id},f(d.name),1))),128))]),t[7]||(t[7]=e("div",{class:"mt-1.5"}," æ–°çš„è¨­å®šæœƒç«‹å³æ‡‰ç”¨åˆ°æœªä¾†çš„å¾—åˆ†ï¼Œä½†å·²æ”¶é›†çš„æ˜Ÿæ˜Ÿä¸æœƒè¢«é‡æ–°è¨ˆç®—ã€‚ ",-1))])])])):S("",!0),e("div",vs,[e("div",fs,[t[8]||(t[8]=e("label",{class:"label pb-2"},[e("span",{class:"label-text font-semibold text-base text-black"},"ç¯„æœ¬åç¨±"),e("span",{class:"label-text-alt text-xs text-base-content text-black"},"ç”¨æ–¼è­˜åˆ¥é€™å€‹ç¯„æœ¬")],-1)),O(e("input",{"onUpdate:modelValue":t[0]||(t[0]=d=>l.name=d),type:"text",placeholder:"ä¾‹ï¼šåŸºç¤çå‹µã€æ¿€å‹µæ¨¡å¼",class:"input input-bordered focus:input-primary"},null,512),[[K,l.name]])]),t[22]||(t[22]=e("div",{class:"divider my-2"},null,-1)),e("div",gs,[e("div",xs,[v(j,{name:"Settings2",class:"w-4 h-4 inline mr-2"}),t[9]||(t[9]=m(" çå‹µåƒæ•¸è¨­å®š ",-1))]),e("div",hs,[t[10]||(t[10]=e("label",{class:"label pb-1.5"},[e("span",{class:"label-text text-sm text-black"},"å¾—åˆ†é–€æª»"),e("span",{class:"label-text-alt text-xs text-black"},"å¤šå°‘åˆ†ä¸€é¡†æ˜Ÿ")],-1)),O(e("input",{"onUpdate:modelValue":t[1]||(t[1]=d=>l.settings.pointsPerStar=d),type:"number",class:"input input-sm input-bordered focus:input-primary"},null,512),[[K,l.settings.pointsPerStar,void 0,{number:!0}]])]),e("div",_s,[t[11]||(t[11]=e("label",{class:"label pb-1.5"},[e("span",{class:"label-text text-sm text-black"},"æ˜Ÿæ˜Ÿé–€æª»"),e("span",{class:"label-text-alt text-xs text-black"},"å¹¾é¡†æ˜Ÿè®Šç„¡æ•µ")],-1)),O(e("input",{"onUpdate:modelValue":t[2]||(t[2]=d=>l.settings.starsToInvincible=d),type:"number",class:"input input-sm input-bordered focus:input-primary"},null,512),[[K,l.settings.starsToInvincible,void 0,{number:!0}]])]),e("div",ws,[t[13]||(t[13]=e("label",{class:"label pb-1.5"},[e("span",{class:"label-text text-sm text-black"},"ç„¡æ•µæŒçºŒæ™‚é–“"),e("span",{class:"label-text-alt text-xs text-black"},"åˆ†é˜ : ç§’")],-1)),e("div",ys,[e("div",ks,[O(e("input",{"onUpdate:modelValue":t[3]||(t[3]=d=>M.value=d),type:"number",placeholder:"åˆ†",min:"0",max:"60",class:"input input-sm input-bordered focus:input-primary w-full"},null,512),[[K,M.value,void 0,{number:!0}]])]),t[12]||(t[12]=e("span",{class:"text-base-content/60"},":",-1)),e("div",$s,[O(e("input",{"onUpdate:modelValue":t[4]||(t[4]=d=>C.value=d),type:"number",placeholder:"ç§’",min:"0",max:"59",class:"input input-sm input-bordered focus:input-primary w-full"},null,512),[[K,C.value,void 0,{number:!0}]])])])]),e("div",Ts,[t[14]||(t[14]=e("label",{class:"label pb-1.5"},[e("span",{class:"label-text text-sm text-black"},"ç„¡æ•µåŠ åˆ†å€¼"),e("span",{class:"label-text-alt text-xs text-black"},"ç„¡æ•µæ™‚æ¯æ¬¡åŠ å¹¾åˆ†")],-1)),O(e("input",{"onUpdate:modelValue":t[5]||(t[5]=d=>l.settings.invinciblePointsPerClick=d),type:"number",class:"input input-sm input-bordered focus:input-primary"},null,512),[[K,l.settings.invinciblePointsPerClick,void 0,{number:!0,lazy:!0}]])]),e("div",Cs,[e("div",Ss,[t[16]||(t[16]=e("div",null,[e("div",{class:"font-semibold text-sm"},"æ˜Ÿæ˜Ÿé‡Œç¨‹ç¢‘æç¤º"),e("p",{class:"text-xs text-base-content/60 mt-1"},[m(" è‡ªè¨‚ä¸åŒæ˜Ÿæ˜Ÿé–€æª»é”æˆæ™‚è¦é¡¯ç¤ºçš„æé†’å…§å®¹ã€‚ "),e("span",{class:"text-warning"},"é‡Œç¨‹ç¢‘ä¸å¯è¨­åœ¨ç„¡æ•µæ˜Ÿæ˜Ÿé–€æª»ï¼Œå› ç‚ºæœƒè¢«æ­å–œå‹•ç•«é®æ“‹ã€‚")])],-1)),e("button",{type:"button",class:"btn btn-xs btn-outline gap-1",onClick:ee,disabled:k.value.length>=Math.max(1,l.settings.starsToInvincible-1)},[v(j,{name:"Plus",class:"w-3.5 h-3.5"}),t[15]||(t[15]=m(" æ–°å¢é‡Œç¨‹ç¢‘ ",-1))],8,Is)]),B.value?(i(),r("div",Ds,[v(j,{name:"AlertCircle",class:"w-4 h-4"}),e("span",Ms,f(B.value),1)])):S("",!0),e("div",Rs,[(i(!0),r(Q,null,Z(k.value,(d,y)=>(i(),r("div",{key:`template-milestone-${y}`,class:"rounded-lg border border-base-200 bg-base-100/80 p-3"},[e("div",As,[e("div",Ps,[t[18]||(t[18]=e("span",{class:"text-xs font-semibold text-base-content/70"}," é”åˆ°æ˜Ÿæ˜Ÿæ•¸ ",-1)),e("div",Bs,[e("input",{value:d.threshold,type:"number",class:"input input-sm input-bordered w-20 text-center",min:"1",max:Math.max(1,l.settings.starsToInvincible-1),onInput:$=>G(y,$.target.valueAsNumber)},null,40,Ns),t[17]||(t[17]=e("span",{class:"text-sm text-base-content/60"},"é¡†",-1))])]),e("div",Es,[t[19]||(t[19]=e("span",{class:"text-xs font-semibold text-base-content/70"}," æç¤ºè¨Šæ¯ ",-1)),e("div",js,[e("input",{value:d.message,type:"text",class:"input input-sm input-bordered w-full",maxlength:U(q),onInput:$=>de(y,$.target.value||"")},null,40,Vs),e("span",Ls,f(d.message.length)+"/"+f(U(q)),1)])]),e("div",Us,[e("button",{type:"button",class:"btn btn-xs btn-outline btn-error gap-1",onClick:$=>F(y)},[v(j,{name:"Trash2",class:"w-3.5 h-3.5"}),t[20]||(t[20]=m(" ç§»é™¤ ",-1))],8,Os)])])]))),128))])])]),e("div",zs,[e("div",Fs,[e("div",Gs,[v(j,{name:"Star",class:"w-4 h-4 text-warning"}),t[21]||(t[21]=m(" è¨­ç‚ºé è¨­ç¯„æœ¬ ",-1))]),e("input",{type:"checkbox",class:"toggle toggle-warning",checked:I.value,onChange:ae},null,40,Xs)]),g.value?(i(),r("p",Hs," å‹¾é¸å¾Œï¼Œå„²å­˜æ™‚æœƒç«‹å³æŠŠé€™å€‹æ–°ç¯„æœ¬è¨­ç‚ºé è¨­ï¼Œæ—¥å¾Œæ–°å¢ç­ç´šæœƒè‡ªå‹•å¥—ç”¨ã€‚ ")):(i(),r("p",Js," å„²å­˜å¾Œæœƒæ›´æ–°é€™å€‹ç¯„æœ¬çš„è¨­å®šï¼›è‹¥ä¿æŒå‹¾é¸ï¼Œå…¶ä»–ç­ç´šå»ºç«‹æ™‚æœƒé è¨­ä½¿ç”¨å®ƒã€‚ "))])]),e("div",Ws,[e("button",{onClick:ne,class:"btn btn-outline"},[v(j,{name:"X",class:"w-4 h-4"}),t[23]||(t[23]=m(" å–æ¶ˆ ",-1))]),e("button",{onClick:ce,class:"btn btn-success"},[v(j,{name:"Check",class:"w-4 h-4"}),t[24]||(t[24]=m(" å„²å­˜ ",-1))])])]),t[25]||(t[25]=e("form",{method:"dialog",class:"modal-backdrop"},[e("button")],-1))],512))}}),qs=Object.assign(Ys,{__name:"RewardTemplateModal"}),Ks={class:"modal-box"},Qs={class:"font-bold text-lg"},Zs={class:"py-4 whitespace-pre-wrap"},et={class:"modal-action"},st=te({__name:"ConfirmDialog",props:{title:{},message:{},confirmText:{default:"ç¢ºèª"},cancelText:{default:"å–æ¶ˆ"}},emits:["confirm","cancel"],setup(H,{expose:p,emit:b}){const x=b,D=_(!1),h=()=>{D.value=!0},g=()=>{D.value=!1},l=()=>{x("confirm"),g()},I=()=>{x("cancel"),g()};return p({open:h,close:g}),(T,w)=>(i(),r("div",{class:Y(["modal",{"modal-open":D.value}])},[e("div",Ks,[e("h3",Qs,f(T.title),1),e("p",Zs,f(T.message),1),e("div",et,[e("button",{onClick:I,class:"btn btn-ghost"},f(T.cancelText),1),e("button",{onClick:l,class:"btn btn-primary"},f(T.confirmText),1)])]),e("label",{class:"modal-backdrop",onClick:I})],2))}}),tt=Object.assign(st,{__name:"ConfirmDialog"}),lt={class:"flex h-[calc(100vh-4rem)] bg-base-100"},nt={class:"p-4 border-b flex items-center justify-between bg-base-200/50"},at={class:"font-bold text-lg flex items-center gap-2"},ot=["onDragstart","onDragover","onDragenter","onDrop"],it={class:"flex items-start justify-between gap-2 mb-2"},rt={class:"flex-1"},dt={class:"font-semibold text-sm"},ct={class:"flex items-center gap-1 mt-1"},ut={key:0,class:"badge badge-xs badge-primary"},pt={class:"flex gap-1 flex-shrink-0 items-center"},mt={class:"tooltip tooltip-left","data-tip":"ç·¨è¼¯é€™å€‹ç¯„æœ¬"},bt=["onClick"],vt=["data-tip"],ft=["onClick"],gt={class:"tooltip tooltip-left","data-tip":"æ‹–æ›³æ’åºç¯„æœ¬"},xt={class:"w-4 h-4 flex items-center justify-center opacity-40"},ht={class:"text-xs space-y-1 text-base-content !text-black"},_t={class:"font-semibold"},wt={class:"font-semibold"},yt={class:"font-semibold"},kt={class:"font-semibold"},$t={class:"p-4 border-t"},Tt={class:"flex-1 flex flex-col overflow-hidden"},Ct={class:"p-4 sm:p-6 border-b bg-base-100 shrink-0"},St={class:"p-4 border-b bg-base-100 shrink-0"},It={class:"flex items-center justify-between"},Dt={class:"flex items-center gap-4"},Mt={class:"flex items-center gap-4"},Rt={key:0,class:"flex items-center gap-2"},At={class:"text-sm text-base-content badge badge-lg"},Pt={class:"flex-1 overflow-auto p-4"},Bt={class:"card bg-base-100 shadow"},Nt={class:"card-body p-0"},Et={class:"table table-zebra w-full"},jt={class:"sticky top-0 bg-base-200 z-10"},Vt={class:"w-12"},Lt=["checked"],Ut=["checked","onChange"],Ot={class:"font-semibold"},zt={class:"text-xs text-base-content flex items-center gap-1"},Ft={class:"text-center"},Gt={key:0,class:"badge badge-success badge-sm gap-1"},Xt={key:1,class:"badge badge-ghost badge-sm"},Ht={class:"text-right"},Jt=["onClick"],Wt={key:0},Yt={colspan:"5",class:"text-center text-base-content py-12"},qt={class:"flex flex-col items-center gap-2"},Kt={key:0,class:"fixed inset-0 z-50 flex items-center justify-end"},Qt={class:"relative w-[600px] h-full bg-base-100 shadow-2xl flex flex-col animate-slide-in-right"},Zt={class:"p-6 border-b flex items-center justify-between shrink-0"},el={class:"text-2xl font-bold"},sl={class:"flex-1 overflow-y-auto p-6"},tl={class:"modal-box max-w-md"},ll={class:"font-bold text-lg mb-4 flex items-center gap-2"},nl={class:"form-control mb-6"},al={class:"space-y-3"},ol={class:"flex items-center gap-3 cursor-pointer"},il={key:0,class:"ml-8"},rl=["value"],dl={key:0},cl={class:"flex items-center gap-3 cursor-pointer"},ul={class:"alert alert-info mb-6"},pl={class:"text-sm leading-relaxed"},ml={key:0},bl={key:1},vl={class:"modal-action"},fl=["disabled"],gl=te({__name:"rewards",setup(H){const p=me(),b=xe(),x=Re(),D=_(!0),h=_(!1),g=_(null),l=_([]),I=_(!1),T=_(""),w=_("template"),o=_(null),M=_(null),C=_(""),z=_("");_([]);const k=_(null),B=_(null),ee=_(null),F=_(null),G=_(!1),de=_({enabled:!0,pointsPerStar:10,starsToInvincible:3,invincibleDurationSeconds:30,invinciblePointsPerClick:5,milestoneMessages:pe(3)}),le=V(()=>b.classes.length>0&&l.value.length===b.classes.length),se=()=>{le.value?l.value=[]:l.value=b.classes.map(n=>n.id)},ce=n=>{const s=l.value.indexOf(n);s>-1?l.value.splice(s,1):l.value.push(n)},ne=n=>b.classes.find(c=>c.id===n)?.groupingActive||!1,ae=n=>n.filter(s=>ne(s)),a=(n,s,c)=>{C.value=n,z.value=s,M.value=c,o.value?.open()},t=()=>{M.value&&(M.value(),M.value=null)},d=()=>{M.value=null},y=(n,s)=>{k.value=s,n.dataTransfer&&(n.dataTransfer.effectAllowed="move",n.dataTransfer.setData("text/plain",String(s)))},$=()=>{k.value=null,B.value=null},L=(n,s)=>{k.value!==null&&(n.preventDefault(),B.value=s)},R=n=>{const s=n.currentTarget.getBoundingClientRect();(n.clientX<s.left||n.clientX>s.right||n.clientY<s.top||n.clientY>s.bottom)&&(B.value=null)},J=(n,s)=>{if(n.preventDefault(),n.stopPropagation(),k.value===null||k.value===s){k.value=null,B.value=null;return}p.moveTemplate(k.value,s)&&x.showSuccess("ç¯„æœ¬æ’åºå·²æ›´æ–°"),k.value=null,B.value=null},ue=n=>{g.value=n,h.value=!0},oe=()=>{h.value=!1,setTimeout(()=>{g.value=null},300)},he=n=>{const c=b.classes.find(N=>N.id===n.classId)?.name||"æ­¤ç­ç´š",A=ne(n.classId),P=()=>{let N=!1;n.mode==="disabled"?N=b.setRewardSettingsMode(n.classId,"disabled"):n.mode==="template"&&n.templateId&&(N=b.applyTemplateToClass(n.classId,n.templateId)),N?(x.showSuccess("ç­ç´šçå‹µè¨­å®šå·²æ›´æ–°"),oe()):x.showError("æ›´æ–°è¨­å®šå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦")};A&&n.mode==="template"?a("æ´»å‹•é€²è¡Œä¸­",`ç­ç´šã€Œ${c}ã€ç›®å‰æœ‰æ´»å‹•é€²è¡Œä¸­ã€‚

æ”¹è®Šçå‹µç¯„æœ¬å¯èƒ½å°è‡´åˆ†æ•¸è¨ˆç®—å¤±æº–ã€‚

ç¢ºå®šè¦æ”¹è®Šè¨­å®šå—ï¼Ÿ`,P):P()},ie=()=>{I.value=!1,T.value="",w.value="template"},_e=()=>{w.value==="template"?we():w.value==="disable"&&ye()},we=()=>{if(!T.value)return;const n=ae(l.value),s=p.getTemplateById(T.value),c=()=>{b.applyTemplateToMultipleClasses(T.value,l.value)?(x.showSuccess(`å·²å¥—ç”¨ã€Œ${s?.name}ã€è‡³ ${l.value.length} å€‹ç­ç´š`),l.value=[],ie()):x.showError("å¥—ç”¨ç¯„æœ¬å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦")};if(n.length>0){const A=n.map(P=>b.classes.find(N=>N.id===P)?.name).filter(Boolean).join("ã€");a("æœ‰ç­ç´šæ­£åœ¨æ´»å‹•ä¸­",`ä»¥ä¸‹ç­ç´šæ­£åœ¨æ´»å‹•é€²è¡Œä¸­ï¼š${A}

æ”¹è®Šçå‹µç¯„æœ¬å¯èƒ½å°è‡´åˆ†æ•¸è¨ˆç®—å¤±æº–ã€‚

ç¢ºå®šè¦å¥—ç”¨ã€Œ${s?.name}ã€è‡³æ‰€æœ‰é¸å®šç­ç´šå—ï¼Ÿ`,c)}else c()},ye=()=>{const n=ae(l.value),s=()=>{let c=0;l.value.forEach(A=>{b.setRewardSettingsMode(A,"disabled")&&c++}),c>0?(x.showSuccess(`å·²åœç”¨ ${c} å€‹ç­ç´šçš„çå‹µæ©Ÿåˆ¶`),l.value=[],ie()):x.showError("åœç”¨çå‹µå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦")};if(n.length>0){const c=n.map(A=>b.classes.find(P=>P.id===A)?.name).filter(Boolean).join("ã€");a("æœ‰ç­ç´šæ­£åœ¨æ´»å‹•ä¸­",`ä»¥ä¸‹ç­ç´šæ­£åœ¨æ´»å‹•é€²è¡Œä¸­ï¼š${c}

åœç”¨çå‹µæ©Ÿåˆ¶å¾Œï¼Œæ´»å‹•ä¸­çš„çå‹µå°‡ç„¡æ³•ç¹¼çºŒè¨ˆç®—ã€‚

ç¢ºå®šè¦åœç”¨æ‰€æœ‰é¸å®šç­ç´šçš„çå‹µå—ï¼Ÿ`,s)}else s()},ke=()=>{F.value=null,G.value=!0,ee.value?.open()},$e=n=>{F.value=n,G.value=!1,ee.value?.open()},Te=n=>{confirm("ç¢ºå®šè¦åˆªé™¤æ­¤ç¯„æœ¬å—ï¼Ÿ")&&(p.deleteTemplate(n)?x.showSuccess("ç¯„æœ¬å·²åˆªé™¤"):x.showError("ç„¡æ³•åˆªé™¤é è¨­ç¯„æœ¬"))},Ce=(n,s)=>{const c=!!n.isDefault;if(s){const A=p.addTemplate(n.name,n.settings);A&&(c?(p.setDefaultTemplate(A.id),x.showSuccess("ç¯„æœ¬å·²å»ºç«‹ä¸¦è¨­ç‚ºé è¨­")):x.showSuccess("ç¯„æœ¬å·²å»ºç«‹"),F.value=null,G.value=!1)}else{if(p.updateTemplate(n.id,n),c)p.setDefaultTemplate(n.id);else if(p.defaultTemplate?.id===n.id){const P=p.rewardTemplates.find(N=>N.id!==n.id);P?p.setDefaultTemplate(P.id):p.setDefaultTemplate(n.id)}x.showSuccess("ç¯„æœ¬å·²æ›´æ–°"),F.value=null,G.value=!1}},Se=()=>{F.value=null,G.value=!1},Ie=()=>{confirm(`ç¢ºå®šè¦é‡è¨­ç³»çµ±å—ï¼Ÿ

é€™å°‡ï¼š
â€¢ æ¸…é™¤æ‰€æœ‰è‡ªè¨‚çå‹µç¯„æœ¬
â€¢ å°‡æ‰€æœ‰ç­ç´šè¨­å®šå›åˆ°é è¨­ç¯„æœ¬
â€¢ å›åˆ°åˆå§‹ç‹€æ…‹

æ­¤å‹•ä½œç„¡æ³•å¾©åŸï¼`)&&(p.resetToDefault(),b.resetAllClassesToDefault(),l.value=[],x.showSuccess("ç³»çµ±å·²é‡è¨­åˆ°åˆå§‹ç‹€æ…‹ï¼Œæ‰€æœ‰ç­ç´šå·²å›åˆ°é è¨­ç¯„æœ¬"))};return(n,s)=>{const c=j,A=Ve,P=is,N=qs;return i(),r("div",lt,[e("aside",{class:Y(["w-80 border-r border-base-300 transition-all duration-300 flex flex-col",{"-ml-80":!D.value}])},[e("div",nt,[e("h3",at,[v(c,{name:"LayoutGrid",class:"w-5 h-5"}),s[9]||(s[9]=m(" ç¯„æœ¬åº« ",-1))]),e("button",{onClick:s[0]||(s[0]=u=>D.value=!1),class:"btn btn-ghost btn-sm btn-circle"},[v(c,{name:"ChevronsLeft",class:"w-4 h-4"})])]),e("div",{class:"p-4 space-y-2 overflow-y-auto flex-1",onDragover:s[1]||(s[1]=re(()=>{},["prevent"])),onDragenter:s[2]||(s[2]=re(()=>{},["prevent"]))},[(i(!0),r(Q,null,Z(U(p).rewardTemplates,(u,X)=>(i(),r("div",{key:u.id,draggable:"true",onDragstart:E=>y(E,X),onDragend:$,onDragover:re(E=>L(E,X),["prevent"]),onDragenter:re(E=>L(E,X),["prevent"]),onDragleave:R,onDrop:E=>J(E,X),class:Y(["p-3 rounded-lg bg-base-200 cursor-grab active:cursor-grabbing hover:shadow-md transition-all hover:scale-[1.02] flex flex-col relative",{"opacity-50":k.value===X,"ring-2 ring-primary ring-offset-2":B.value===X}])},[e("div",it,[e("div",rt,[e("span",dt,f(u.name),1),e("div",ct,[u.isDefault?(i(),r("span",ut,"é è¨­")):S("",!0)])]),e("div",pt,[e("div",mt,[e("button",{onClick:E=>$e(u),class:"btn btn-xs btn-ghost"},[v(c,{name:"Edit2",class:"w-3 h-3"})],8,bt)]),!u.isDefault||U(p).rewardTemplates.filter(E=>E.isDefault).length>1?(i(),r("div",{key:0,class:"tooltip tooltip-left","data-tip":u.isDefault?"åˆªé™¤æ­¤é è¨­ç¯„æœ¬":"åˆªé™¤é€™å€‹ç¯„æœ¬"},[e("button",{onClick:E=>Te(u.id),class:"btn btn-xs btn-ghost text-error"},[v(c,{name:"Trash2",class:"w-3 h-3"})],8,ft)],8,vt)):S("",!0),e("div",gt,[e("div",xt,[v(c,{name:"GripVertical",class:"w-4 h-4"})])])])]),e("div",ht,[e("div",null,[s[10]||(s[10]=m(" ğŸ’° æ¯æ˜Ÿéœ€æ±‚ï¼š",-1)),e("span",_t,f(u.settings.pointsPerStar),1),s[11]||(s[11]=m(" åˆ† ",-1))]),e("div",null,[s[12]||(s[12]=m(" â­ é”æˆç„¡æ•µï¼š",-1)),e("span",wt,f(u.settings.starsToInvincible),1),s[13]||(s[13]=m(" æ˜Ÿ ",-1))]),e("div",null,[s[14]||(s[14]=m(" â±ï¸ ç„¡æ•µæ™‚é•·ï¼š",-1)),e("span",yt,f(U(ge)(u.settings.invincibleDurationSeconds)),1)]),e("div",null,[s[15]||(s[15]=m(" ğŸ¯ ç„¡æ•µåŠ åˆ†ï¼š",-1)),e("span",kt,f(u.settings.invinciblePointsPerClick),1),s[16]||(s[16]=m(" åˆ†/æ¬¡ ",-1))])])],42,ot))),128))],32),e("div",$t,[e("button",{onClick:ke,class:"btn btn-primary btn-sm btn-block gap-2"},[v(c,{name:"Plus",class:"w-4 h-4"}),s[17]||(s[17]=m(" æ–°å¢ç¯„æœ¬ ",-1))])])],2),e("main",Tt,[e("div",Ct,[v(Be,{title:"çå‹µæ©Ÿåˆ¶ç®¡ç†",description:"ç®¡ç†ç­ç´šçš„çå‹µè¨­å®šåŠç¯„æœ¬å¥—ç”¨ã€‚"})]),e("div",St,[e("div",It,[e("div",Dt,[D.value?S("",!0):(i(),r("button",{key:0,onClick:s[3]||(s[3]=u=>D.value=!0),class:"btn btn-ghost btn-sm gap-2"},[v(c,{name:"LayoutGrid",class:"w-4 h-4"}),s[18]||(s[18]=m(" ç¯„æœ¬åº« ",-1))]))]),e("div",Mt,[l.value.length>0?(i(),r("div",Rt,[e("span",At," å·²é¸ "+f(l.value.length)+" å€‹ç­ç´š ",1),e("button",{onClick:s[4]||(s[4]=u=>I.value=!0),class:"btn btn-primary btn-sm gap-2"},[v(c,{name:"Sparkles",class:"w-4 h-4"}),s[19]||(s[19]=m(" æ‰¹æ¬¡å¥—ç”¨ ",-1))]),e("button",{onClick:s[5]||(s[5]=u=>l.value=[]),class:"btn btn-ghost btn-sm"}," å–æ¶ˆ ")])):S("",!0),e("button",{onClick:Ie,class:"btn btn-outline btn-error btn-sm gap-2",title:"é‡è¨­æ‰€æœ‰çå‹µç¯„æœ¬åˆ°åˆå§‹ç‹€æ…‹"},[v(c,{name:"RefreshCw",class:"w-4 h-4"}),s[20]||(s[20]=m(" é‡è¨­å›é è¨­çå‹µ ",-1))])])])]),e("div",Pt,[e("div",Bt,[e("div",Nt,[e("table",Et,[e("thead",jt,[e("tr",null,[e("th",Vt,[e("input",{type:"checkbox",class:"checkbox checkbox-sm",checked:le.value,onChange:se},null,40,Lt)]),s[21]||(s[21]=e("th",null,"ç­ç´š",-1)),s[22]||(s[22]=e("th",null,"ç›®å‰çå‹µè¨­å®š",-1)),s[23]||(s[23]=e("th",{class:"text-center"},"ç‹€æ…‹",-1)),s[24]||(s[24]=e("th",{class:"w-32 text-right"},"æ“ä½œ",-1))])]),e("tbody",null,[(i(!0),r(Q,null,Z(U(b).classes,u=>(i(),r("tr",{key:u.id,class:"hover:bg-base-200/50 transition-colors"},[e("td",null,[e("input",{type:"checkbox",class:"checkbox checkbox-sm",checked:l.value.includes(u.id),onChange:X=>ce(u.id)},null,40,Ut)]),e("td",null,[e("div",Ot,f(u.name),1),e("div",zt,[v(c,{name:"Users",class:"w-3 h-3"}),m(" "+f(u.students.length)+" äºº ",1)])]),e("td",null,[v(A,{"class-info":u,"show-details":!0},null,8,["class-info"])]),e("td",Ft,[u.groupingActive?(i(),r("span",Gt,[v(c,{name:"Play",class:"w-3 h-3"}),s[25]||(s[25]=m(" æ´»å‹•ä¸­ ",-1))])):(i(),r("span",Xt," å¾…æ©Ÿä¸­ "))]),e("td",Ht,[e("button",{onClick:X=>ue(u),class:"btn btn-ghost btn-sm gap-1"},[v(c,{name:"Settings",class:"w-4 h-4"}),s[26]||(s[26]=m(" è¨­å®š ",-1))],8,Jt)])]))),128)),U(b).classes.length===0?(i(),r("tr",Wt,[e("td",Yt,[e("div",qt,[v(c,{name:"AlertCircle",class:"w-8 h-8 opacity-40"}),s[27]||(s[27]=e("p",{class:"text-sm"},"å°šç„¡ç­ç´šï¼Œè«‹å…ˆåœ¨é¦–é æ–°å¢ç­ç´š",-1))])])])):S("",!0)])])])])])]),(i(),be(Ae,{to:"body"},[h.value?(i(),r("div",Kt,[e("div",{class:"absolute inset-0 bg-black/50",onClick:oe}),e("div",Qt,[e("div",Zt,[e("div",null,[e("h2",el,f(g.value?.name),1),s[28]||(s[28]=e("p",{class:"text-sm text-base-content mt-1"},"çå‹µæ©Ÿåˆ¶è¨­å®š",-1))]),e("button",{onClick:oe,class:"btn btn-ghost btn-sm btn-circle"},[v(c,{name:"X",class:"w-5 h-5"})])]),e("div",sl,[g.value?(i(),be(P,{key:0,"class-info":g.value,templates:U(p).rewardTemplates,onSave:he,onCancel:oe},null,8,["class-info","templates"])):S("",!0)])])])):S("",!0)])),e("dialog",{class:Y(["modal",{"modal-open":I.value}])},[e("div",tl,[e("h3",ll,[v(c,{name:"Sparkles",class:"w-5 h-5"}),s[29]||(s[29]=m(" æ‰¹æ¬¡å¥—ç”¨ç¯„æœ¬ ",-1))]),e("div",nl,[s[33]||(s[33]=e("label",{class:"label pb-2"},[e("span",{class:"label-text font-semibold mr-2"},"é¸æ“‡æ“ä½œ")],-1)),e("div",al,[e("label",ol,[O(e("input",{type:"radio",name:"batchAction",value:"template","onUpdate:modelValue":s[6]||(s[6]=u=>w.value=u),class:"radio radio-primary"},null,512),[[ve,w.value]]),s[30]||(s[30]=e("span",{class:"flex-1"},"å¥—ç”¨ç¯„æœ¬",-1))]),w.value==="template"?(i(),r("div",il,[O(e("select",{"onUpdate:modelValue":s[7]||(s[7]=u=>T.value=u),class:"select select-bordered select-md w-full"},[s[31]||(s[31]=e("option",{value:""},"-- è«‹é¸æ“‡ç¯„æœ¬ --",-1)),(i(!0),r(Q,null,Z(U(p).rewardTemplates,u=>(i(),r("option",{key:u.id,value:u.id},[m(f(u.name)+" ",1),u.isDefault?(i(),r("span",dl," (é è¨­)")):S("",!0)],8,rl))),128))],512),[[fe,T.value]])])):S("",!0),e("label",cl,[O(e("input",{type:"radio",name:"batchAction",value:"disable","onUpdate:modelValue":s[8]||(s[8]=u=>w.value=u),class:"radio radio-primary"},null,512),[[ve,w.value]]),s[32]||(s[32]=e("span",{class:"flex-1"},"åœç”¨çå‹µ",-1))])])]),e("div",ul,[v(c,{name:"Info",class:"w-5 h-5 flex-shrink-0"}),e("span",pl,[s[34]||(s[34]=m(" å°‡ ",-1)),w.value==="template"?(i(),r("span",ml,"å¥—ç”¨ç¯„æœ¬")):w.value==="disable"?(i(),r("span",bl,"åœç”¨çå‹µ")):S("",!0),m(" è‡³ "+f(l.value.length)+" å€‹ç­ç´šï¼Œä¿®æ”¹å°‡ç«‹å³ç”Ÿæ•ˆã€‚ ",1)])]),e("div",vl,[e("button",{onClick:ie,class:"btn btn-ghost"},"å–æ¶ˆ"),e("button",{onClick:_e,class:"btn btn-primary",disabled:w.value==="template"&&!T.value}," ç¢ºèªåŸ·è¡Œ ",8,fl)])]),e("div",{class:"modal-backdrop",onClick:ie})],2),v(N,{ref_key:"templateModalRef",ref:ee,"initial-template":F.value,"is-creating-new":G.value,"default-settings":de.value,onSave:Ce,onCancel:Se},null,8,["initial-template","is-creating-new","default-settings"]),v(tt,{ref_key:"confirmDialogRef",ref:o,title:C.value,message:z.value,"confirm-text":"ç¢ºèª","cancel-text":"å–æ¶ˆ",onConfirm:t,onCancel:d},null,8,["title","message"])])}}}),_l=Pe(gl,[["__scopeId","data-v-ae91b06e"]]);export{_l as default};
