import{f as _,h,g as v,i as w,y,r as k,u as C,c as I,o as S,b as a,a as s,d as l,L as D,x as u,l as i,m as P,I as T,t as V}from"#entry";import{P as A}from"./Ce1utWGs.js";const B={class:"p-6 max-w-5xl mx-auto space-y-10"},L={class:"grid gap-6 md:grid-cols-2"},M={class:"card bg-base-100 border border-base-300 shadow-sm"},N={class:"card-body space-y-4"},U={class:"card-title text-base flex items-center gap-2"},j={class:"form-control"},H={class:"flex gap-2"},$={class:"form-control"},z={class:"cursor-pointer label justify-start gap-3"},E={class:"card bg-base-100 border border-base-300 shadow-sm"},q={class:"card-body space-y-4"},F={class:"card-title text-base flex items-center gap-2"},G={class:"space-y-3"},J={class:"card bg-base-100 border border-base-300 shadow-sm"},K={class:"card-body space-y-4"},O={class:"card-title text-base flex items-center gap-2"},Q={class:"bg-base-200 p-4 rounded-lg text-xs overflow-auto max-h-64"},Y=_({__name:"settings",setup(R){const n=h(),r=v(),c=w({...n.userPreferences});y(c,o=>{n.updatePreferences(o)},{deep:!0});const b=o=>n.updatePreferences({theme:o}),m=()=>r.exportAllClasses(),p=k(),f=()=>p.value?.click(),g=async o=>{const e=o.target.files?.[0];if(e){const t=await r.importAllClasses(e);alert(t?"匯入完成":"匯入失敗")}},x=()=>{confirm("確定要刪除所有班級資料？此操作無法復原")&&(r.classes.splice(0,r.classes.length),r.saveToStorage())};return C({title:"系統設定 - 班級分組計分工具"}),(o,e)=>{const t=D;return S(),I("div",B,[a(A,{title:"系統設定",description:"調整偏好、外觀與資料"}),s("div",L,[s("div",M,[s("div",N,[s("h2",U,[a(t,{name:"Palette",class:"w-5 h-5"}),e[3]||(e[3]=l(" 外觀 ",-1))]),s("div",j,[e[4]||(e[4]=s("label",{class:"label"},[s("span",{class:"label-text"},"主題模式")],-1)),s("div",H,[s("button",{class:u(["btn btn-sm",i(n).isDarkMode?"btn-outline":"btn-primary"]),onClick:e[0]||(e[0]=d=>b("light"))}," 亮色 ",2),s("button",{class:u(["btn btn-sm",i(n).isDarkMode?"btn-primary":"btn-outline"]),onClick:e[1]||(e[1]=d=>b("dark"))}," 暗色 ",2)])]),s("div",$,[s("label",z,[P(s("input",{type:"checkbox",class:"toggle","onUpdate:modelValue":e[2]||(e[2]=d=>i(c).enableSounds=d)},null,512),[[T,i(c).enableSounds]]),e[5]||(e[5]=s("span",{class:"label-text"},"啟用計時器音效",-1))])])])]),s("div",E,[s("div",q,[s("h2",F,[a(t,{name:"Database",class:"w-5 h-5"}),e[6]||(e[6]=l(" 資料管理 ",-1))]),s("div",G,[s("button",{class:"btn btn-outline w-full gap-2",onClick:m},[a(t,{name:"Download",class:"w-4 h-4"}),e[7]||(e[7]=l(" 匯出全部資料 ",-1))]),s("button",{class:"btn btn-outline w-full gap-2",onClick:f},[a(t,{name:"Upload",class:"w-4 h-4"}),e[8]||(e[8]=l(" 匯入資料 ",-1))]),s("button",{class:"btn btn-error btn-outline w-full gap-2",onClick:x},[a(t,{name:"Trash2",class:"w-4 h-4"}),e[9]||(e[9]=l(" 清除所有班級 (慎用) ",-1))])]),s("input",{ref_key:"fileInput",ref:p,type:"file",accept:".json",class:"hidden",onChange:g},null,544)])])]),s("div",J,[s("div",K,[s("h2",O,[a(t,{name:"Settings",class:"w-5 h-5"}),e[10]||(e[10]=l(" 偏好資料 ",-1))]),s("pre",Q,V(i(c)),1)])])])}}});export{Y as default};
