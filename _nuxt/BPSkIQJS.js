import{f as _,z as h,g as v,h as w,A as y,r as k,u as C,c as D,o as I,a as s,b as o,d as n,n as S,y as p,l as i,t as A}from"#entry";const P={class:"p-6 max-w-5xl mx-auto space-y-10"},T={class:"grid gap-6 md:grid-cols-2"},B={class:"card bg-base-100 border border-base-300 shadow-sm"},N={class:"card-body space-y-4"},V={class:"card-title text-base flex items-center gap-2"},z={class:"form-control"},M={class:"flex gap-2"},U={class:"card bg-base-100 border border-base-300 shadow-sm"},$={class:"card-body space-y-4"},j={class:"card-title text-base flex items-center gap-2"},E={class:"space-y-3"},H={class:"card bg-base-100 border border-base-300 shadow-sm"},L={class:"card-body space-y-4"},q={class:"card-title text-base flex items-center gap-2"},F={class:"bg-base-200 p-4 rounded-lg text-xs overflow-auto max-h-64"},K=_({__name:"settings",setup(G){const l=h(),r=v(),c=w({...l.userPreferences});y(c,a=>{l.updatePreferences(a)},{deep:!0});const d=a=>l.updatePreferences({theme:a}),m=()=>r.exportAllClasses(),b=k(),u=()=>b.value?.click(),f=async a=>{const t=a.target.files?.[0];if(t){const e=await r.importAllClasses(t);alert(e?"匯入完成":"匯入失敗")}},g=()=>{confirm("確定要刪除所有班級資料？此操作無法復原")&&(r.classes.splice(0,r.classes.length),r.saveToStorage())};return C({title:"系統設定 - 班級分組計分工具"}),(a,t)=>{const e=S;return I(),D("div",P,[t[9]||(t[9]=s("div",null,[s("h1",{class:"text-3xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent"}," 系統設定 "),s("p",{class:"text-base-content/70 mt-2"},"調整偏好、外觀與資料")],-1)),s("div",T,[s("div",B,[s("div",N,[s("h2",V,[o(e,{name:"Palette",class:"w-5 h-5"}),t[2]||(t[2]=n(" 外觀 ",-1))]),s("div",z,[t[3]||(t[3]=s("label",{class:"label"},[s("span",{class:"label-text"},"主題模式")],-1)),s("div",M,[s("button",{class:p(["btn btn-sm",i(l).isDarkMode?"btn-outline":"btn-primary"]),onClick:t[0]||(t[0]=x=>d("light"))}," 亮色 ",2),s("button",{class:p(["btn btn-sm",i(l).isDarkMode?"btn-primary":"btn-outline"]),onClick:t[1]||(t[1]=x=>d("dark"))}," 暗色 ",2)])])])]),s("div",U,[s("div",$,[s("h2",j,[o(e,{name:"Database",class:"w-5 h-5"}),t[4]||(t[4]=n(" 資料管理 ",-1))]),s("div",E,[s("button",{class:"btn btn-outline w-full gap-2",onClick:m},[o(e,{name:"Download",class:"w-4 h-4"}),t[5]||(t[5]=n(" 匯出全部資料 ",-1))]),s("button",{class:"btn btn-outline w-full gap-2",onClick:u},[o(e,{name:"Upload",class:"w-4 h-4"}),t[6]||(t[6]=n(" 匯入資料 ",-1))]),s("button",{class:"btn btn-error btn-outline w-full gap-2",onClick:g},[o(e,{name:"Trash2",class:"w-4 h-4"}),t[7]||(t[7]=n(" 清除所有班級 (慎用) ",-1))])]),s("input",{ref_key:"fileInput",ref:b,type:"file",accept:".json",class:"hidden",onChange:f},null,544)])])]),s("div",H,[s("div",L,[s("h2",q,[o(e,{name:"Settings",class:"w-5 h-5"}),t[8]||(t[8]=n(" 偏好資料 ",-1))]),s("pre",F,A(i(c)),1)])])])}}});export{K as default};
