import{f as h,D as x,g as v,h as w,z as k,r as y,u as C,c as D,o as I,b as a,a as s,d as n,L as P,x as p,k as i,t as S}from"#entry";import{P as T}from"./CkQK_kZe.js";const A={class:"p-6 max-w-5xl mx-auto space-y-10"},B={class:"grid gap-6 md:grid-cols-2"},L={class:"card bg-base-100 border border-base-300 shadow-sm"},N={class:"card-body space-y-4"},V={class:"card-title text-base flex items-center gap-2"},z={class:"form-control"},H={class:"flex gap-2"},M={class:"card bg-base-100 border border-base-300 shadow-sm"},U={class:"card-body space-y-4"},$={class:"card-title text-base flex items-center gap-2"},j={class:"space-y-3"},E={class:"card bg-base-100 border border-base-300 shadow-sm"},q={class:"card-body space-y-4"},F={class:"card-title text-base flex items-center gap-2"},G={class:"bg-base-200 p-4 rounded-lg text-xs overflow-auto max-h-64"},Q=h({__name:"settings",setup(J){const l=x(),r=v(),c=w({...l.userPreferences});k(c,o=>{l.updatePreferences(o)},{deep:!0});const d=o=>l.updatePreferences({theme:o}),u=()=>r.exportAllClasses(),b=y(),m=()=>b.value?.click(),f=async o=>{const e=o.target.files?.[0];if(e){const t=await r.importAllClasses(e);alert(t?"匯入完成":"匯入失敗")}},g=()=>{confirm("確定要刪除所有班級資料？此操作無法復原")&&(r.classes.splice(0,r.classes.length),r.saveToStorage())};return C({title:"系統設定 - 班級分組計分工具"}),(o,e)=>{const t=P;return I(),D("div",A,[a(T,{title:"系統設定",description:"調整偏好、外觀與資料"}),s("div",B,[s("div",L,[s("div",N,[s("h2",V,[a(t,{name:"Palette",class:"w-5 h-5"}),e[2]||(e[2]=n(" 外觀 ",-1))]),s("div",z,[e[3]||(e[3]=s("label",{class:"label"},[s("span",{class:"label-text"},"主題模式")],-1)),s("div",H,[s("button",{class:p(["btn btn-sm",i(l).isDarkMode?"btn-outline":"btn-primary"]),onClick:e[0]||(e[0]=_=>d("light"))}," 亮色 ",2),s("button",{class:p(["btn btn-sm",i(l).isDarkMode?"btn-primary":"btn-outline"]),onClick:e[1]||(e[1]=_=>d("dark"))}," 暗色 ",2)])])])]),s("div",M,[s("div",U,[s("h2",$,[a(t,{name:"Database",class:"w-5 h-5"}),e[4]||(e[4]=n(" 資料管理 ",-1))]),s("div",j,[s("button",{class:"btn btn-outline w-full gap-2",onClick:u},[a(t,{name:"Download",class:"w-4 h-4"}),e[5]||(e[5]=n(" 匯出全部資料 ",-1))]),s("button",{class:"btn btn-outline w-full gap-2",onClick:m},[a(t,{name:"Upload",class:"w-4 h-4"}),e[6]||(e[6]=n(" 匯入資料 ",-1))]),s("button",{class:"btn btn-error btn-outline w-full gap-2",onClick:g},[a(t,{name:"Trash2",class:"w-4 h-4"}),e[7]||(e[7]=n(" 清除所有班級 (慎用) ",-1))])]),s("input",{ref_key:"fileInput",ref:b,type:"file",accept:".json",class:"hidden",onChange:f},null,544)])])]),s("div",E,[s("div",q,[s("h2",F,[a(t,{name:"Settings",class:"w-5 h-5"}),e[8]||(e[8]=n(" 偏好資料 ",-1))]),s("pre",G,S(i(c)),1)])])])}}});export{Q as default};
